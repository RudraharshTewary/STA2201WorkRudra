"0","library(reshape2)"
"0",""
"0","y <- ds$log_weight"
"0","fit_mod2 <- rstan::extract(mod2)"
"0","yrep1 <- fit_mod2$log_weight_rep"
"0","samp100 <- sample(nrow(yrep1), 100)"
"0",""
"0",""
"0","post_y <- yrep1[samp100,]"
"0",""
"0","plot_data <- data.frame("
"0","  value = c(as.vector(post_y), y),"
"0","  type = rep(c(rep(""Predicted"", nrow(post_y)), ""Observed""), each = length(y)),"
"0","  sample = rep(0:nrow(post_y), each = length(y))"
"0",")"
"0",""
"0","# Plot using geom_density"
"0","ggplot(plot_data, aes(x = value, color = type, group = interaction(type, sample))) +"
"0","  geom_density(alpha = 0.5) +"
"0","  scale_color_manual(values = c(""black"", ""blue"")) +"
"0","  scale_size_manual(values = c(10, 1)) +"
"0","  ggtitle(""Distribution of Observed versus Predicted Birth Weights"")"
